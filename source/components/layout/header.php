<?

function renderHeaderImg($class = null) {
    global $user;

    if ($user['avatar'] && file_exists("./source/upload/" . $user['avatar'])) {
        return '<img class="header__authorization_img" src="./source/upload/' . $user['avatar'] . '" alt="' . $user . '">';
    }

    return '<div class="header__authorization_user-icon">' . mb_substr($user['name'], 0, 1) . '</div>';
}

function renderHeaderAuthorization()
{
    if ($_SESSION['user']['id']) {
        return '
            <div class="header__rigth header__authorization">
                <a class="header__authorization_link" href="/my_application">
                    ' . renderHeaderImg() . '
                </a>
                <a class="header__authorization_logout" href="/logout">
                    <svg width="1.5rem" height="1.5rem" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 7L8 6C8 4.89543 8.89543 4 10 4L17 4C18.1046 4 19 4.89543 19 6L19 18C19 19.1046 18.1046 20 17 20L10 20C8.89543 20 8 19.1046 8 18L8 17M4 12L15 12M15 12L12 15M15 12L12 9" stroke="#2D2D41" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>
                        Выход
                    </span>
                </a>
            </div>';
    }

    return '<div class="header__rigth header__authorization">
            <a class="header__authorization_link header__button button-yellow" href="/login">
                <div class="header__button button-yellow">
                    Вход
                </div>
            </a>
            <a class="header__authorization_link" href="/registration">
                <div class="header__button button-dark">
                    Регистрация
                </div>
            </a>
            </div>
        </div>';
}

function renderHeader($title)
{
    return '<header class="header">
    <div class="container">
        <div class="header__container">
            <div class="header__left">
                <div class="header__burger">
                    <div class="header__burger_icon header__burger_active">
                        <svg class="header__burger_icon_lines" width="26" height="12" viewBox="0 0 26 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="0.857147" y="0.714355" width="24.2857" height="1.92857" rx="0.964286" fill="#2D2D41"/>
                            <rect x="0.857147" y="5.21436" width="24.2857" height="1.92857" rx="0.964286" fill="#2D2D41"/>
                            <rect x="0.857147" y="9.71436" width="12.1429" height="1.92857" rx="0.964286" fill="#2D2D41"/>
                        </svg>                                    
                    </div>
                    <div class="header__burger-fixed">
                        <div class="header__burger-fixed__inner block-default container">
                            <div class="header__burger_close"></div>
                            <ul class="header__burger-fixed_menu menu__list">
                                <li class="menu__item">
                                    <a class="menu__link ' . ($_SERVER["REQUEST_URI"] == "/" ? '_active' : null) . '" href="/">
                                        Главная
                                    </a>
                                </li>
                                <li class="menu__item">
                                    <a class="menu__link ' . ($_SERVER["REQUEST_URI"] == "/cargo" ? '_active' : null) . '" href="cargo">
                                        Грузы
                                    </a>
                                </li>
                                <li class="menu__item">
                                    <a class="menu__link ' . ($_SERVER["REQUEST_URI"] == "/transport" ? '_active' : null) . '" href="transport">
                                        Транспорт
                                    </a>
                                </li>
                                <li class="menu__item">
                                    <a class="menu__link" href="">
                                        О компании
                                    </a>
                                </li>
                                <li class="menu__item">
                                    <a class="menu__link" href="">
                                        Тарифы
                                    </a>
                                </li>
                                <li class="menu__item">
                                    <a class="menu__link ' . ($_SERVER["REQUEST_URI"] == "/support" ? '_active' : null) . '" href="support">
                                        Поддержка
                                    </a>
                                </li>
                            </ul>
                            <ul class="header__burger-fixed__socials">
                                <li class="header__burger-fixed__social">
                                    <a href="malito:info@trucklink.pro">
                                        info@trucklink.pro                                                  
                                    </a>
                                </li>
                                    <li class="header__burger-fixed__social">
                                    <a href="">
                                        написать в Telegram                                                                                                    
                                    </a>
                                </li>
                            </ul>
                            <div class="header__burger_switch-theme switch-theme">
                                <div class="switch-theme__switch">
                                    <div class="switch-theme__circle"></div>
                                </div>
                                <div class="switch-theme__icon">
                                    <svg width="1.375rem" height="1.375rem" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M16.5 16.5L18 18L16.5 16.5ZM19 11H21H19ZM5.5 5.5L4 4L5.5 5.5ZM16.5 5.5L18 4L16.5 5.5ZM5.5 16.5L4 18L5.5 16.5ZM1 11H3H1ZM11 1V3V1ZM11 19V21V19ZM15 11C15 13.2091 13.2091 15 11 15C8.79086 15 7 13.2091 7 11C7 8.79086 8.79086 7 11 7C13.2091 7 15 8.79086 15 11Z" stroke="#FFA61B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>                                
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="header__title-page">
                    ' . $title . '
                </div>
            </div>
            <a class="header__logo" href="/">
                <div class="logo">
                    <svg width="119" height="28" viewBox="0 0 119 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M28.2848 5.90909V8.29545H20.7592V5.90909H28.2848ZM22.6172 2.77273H25.7024V15.0625C25.7024 15.4773 25.7649 15.7955 25.8899 16.017C26.0206 16.233 26.1911 16.3807 26.4013 16.4602C26.6115 16.5398 26.8445 16.5795 27.1002 16.5795C27.2933 16.5795 27.4695 16.5653 27.6286 16.5369C27.7933 16.5085 27.9183 16.483 28.0036 16.4602L28.5235 18.8722C28.3587 18.929 28.1229 18.9915 27.8161 19.0597C27.5149 19.1278 27.1456 19.1676 26.7081 19.179C25.9354 19.2017 25.2394 19.0852 24.62 18.8295C24.0007 18.5682 23.5092 18.1648 23.1456 17.6193C22.7877 17.0739 22.6115 16.392 22.6172 15.5739V2.77273ZM30.5051 19V5.90909H33.4965V8.09091H33.6329C33.8715 7.33523 34.2806 6.75284 34.8602 6.34375C35.4454 5.92898 36.113 5.72159 36.863 5.72159C37.0335 5.72159 37.2238 5.73011 37.434 5.74716C37.65 5.75852 37.8289 5.77841 37.971 5.80682V8.64489C37.8403 8.59943 37.6329 8.55966 37.3488 8.52557C37.0704 8.4858 36.8005 8.46591 36.5392 8.46591C35.9767 8.46591 35.471 8.58807 35.0221 8.83239C34.5789 9.07102 34.2295 9.40341 33.9738 9.82955C33.7181 10.2557 33.5903 10.7472 33.5903 11.304V19H30.5051ZM48.0044 13.4943V5.90909H51.0897V19H48.0982V16.6733H47.9618C47.6664 17.4062 47.1806 18.0057 46.5044 18.4716C45.834 18.9375 45.0073 19.1705 44.0243 19.1705C43.1664 19.1705 42.4079 18.9801 41.7488 18.5994C41.0954 18.2131 40.584 17.6534 40.2147 16.9205C39.8454 16.1818 39.6607 15.2898 39.6607 14.2443V5.90909H42.7459V13.767C42.7459 14.5966 42.9732 15.2557 43.4277 15.7443C43.8823 16.233 44.4789 16.4773 45.2175 16.4773C45.6721 16.4773 46.1124 16.3665 46.5385 16.1449C46.9647 15.9233 47.3141 15.5938 47.5868 15.1562C47.8652 14.7131 48.0044 14.1591 48.0044 13.4943ZM59.6125 19.2557C58.3057 19.2557 57.1835 18.9688 56.246 18.3949C55.3142 17.821 54.5954 17.0284 54.0898 16.017C53.5898 15 53.3398 13.8295 53.3398 12.5057C53.3398 11.1761 53.5954 10.0028 54.1068 8.9858C54.6182 7.96307 55.3398 7.16761 56.2716 6.59943C57.2091 6.02557 58.317 5.73864 59.5954 5.73864C60.6579 5.73864 61.5983 5.93466 62.4165 6.3267C63.2403 6.71307 63.8966 7.26136 64.3852 7.97159C64.8738 8.67614 65.1523 9.5 65.2204 10.4432H62.2716C62.1523 9.8125 61.8682 9.28693 61.4193 8.86648C60.9761 8.44034 60.3824 8.22727 59.6381 8.22727C59.0074 8.22727 58.4534 8.39773 57.9761 8.73864C57.4988 9.07386 57.1267 9.55682 56.8596 10.1875C56.5983 10.8182 56.4676 11.5739 56.4676 12.4545C56.4676 13.3466 56.5983 14.1136 56.8596 14.7557C57.121 15.392 57.4875 15.8835 57.9591 16.2301C58.4363 16.571 58.996 16.7415 59.6381 16.7415C60.0926 16.7415 60.4988 16.6562 60.8568 16.4858C61.2204 16.3097 61.5244 16.0568 61.7687 15.7273C62.0131 15.3977 62.1807 14.9972 62.2716 14.5256H65.2204C65.1466 15.4517 64.8738 16.2727 64.4023 16.9886C63.9307 17.6989 63.2886 18.2557 62.4761 18.6591C61.6636 19.0568 60.7091 19.2557 59.6125 19.2557ZM70.2063 14.892L70.1978 11.1676H70.6921L75.3967 5.90909H79.0018L73.2148 12.3523H72.5756L70.2063 14.892ZM67.3938 19V1.54545H70.479V19H67.3938ZM75.6097 19L71.3484 13.0426L73.4279 10.8693L79.3001 19H75.6097ZM83.7831 1.54545V19H80.6979V1.54545H83.7831ZM86.5957 19V5.90909H89.6809V19H86.5957ZM88.1468 4.05114C87.6582 4.05114 87.2377 3.8892 86.8855 3.56534C86.5332 3.23579 86.3571 2.84091 86.3571 2.38068C86.3571 1.91477 86.5332 1.51989 86.8855 1.19602C87.2377 0.866477 87.6582 0.701704 88.1468 0.701704C88.6411 0.701704 89.0616 0.866477 89.4082 1.19602C89.7605 1.51989 89.9366 1.91477 89.9366 2.38068C89.9366 2.84091 89.7605 3.23579 89.4082 3.56534C89.0616 3.8892 88.6411 4.05114 88.1468 4.05114ZM95.5787 11.3295V19H92.4935V5.90909H95.4424V8.13352H95.5958C95.8969 7.40057 96.377 6.81818 97.0361 6.38636C97.7009 5.95455 98.5219 5.73864 99.4992 5.73864C100.403 5.73864 101.19 5.93182 101.86 6.31818C102.536 6.70455 103.059 7.2642 103.428 7.99716C103.803 8.73011 103.988 9.61932 103.982 10.6648V19H100.897V11.142C100.897 10.267 100.67 9.58239 100.215 9.08807C99.7662 8.59375 99.1441 8.34659 98.3486 8.34659C97.8088 8.34659 97.3287 8.46591 96.9083 8.70455C96.4935 8.9375 96.1668 9.27557 95.9282 9.71875C95.6952 10.1619 95.5787 10.6989 95.5787 11.3295ZM109.571 14.892L109.562 11.1676H110.057L114.761 5.90909H118.366L112.58 12.3523H111.94L109.571 14.892ZM106.759 19V1.54545H109.844V19H106.759ZM114.974 19L110.713 13.0426L112.793 10.8693L118.665 19H114.974Z" fill="var(--logo-color)"/>
                        <path d="M22.855 22.8861V18.5684C22.855 17.6407 22.0967 16.8886 21.1614 16.8886H20.7186V1.1256C20.7186 0.984597 20.6473 0.853015 20.5287 0.775283L19.4537 0.070523C19.1722 -0.113994 18.7969 0.0861701 18.7969 0.420844V5.48336L18.4765 4.62625C18.0457 3.47349 16.9371 2.70843 15.6975 2.70843H8.29594C7.04909 2.70843 5.9356 3.48237 5.51007 4.64478L5.20309 5.48336V0.420844C5.20309 0.0862159 4.82774 -0.113994 4.54622 0.070523L3.47115 0.775237C3.35256 0.852969 3.2812 0.984551 3.2812 1.12556V16.8886H2.8385C1.90316 16.8886 1.1449 17.6406 1.1449 18.5684V22.8861H0.423364C0.189539 22.8861 -1.90735e-06 23.0741 -1.90735e-06 23.306V25.6276C-1.90735e-06 25.8595 0.189539 26.0476 0.423364 26.0476H2.24995V27.1603C2.24995 27.6242 2.62908 28.0002 3.09678 28.0002H5.34069C5.80838 28.0002 6.18751 27.6242 6.18751 27.1603V26.0476H17.8125V27.1603C17.8125 27.6242 18.1917 28.0002 18.6593 28.0002H20.9032C21.3709 28.0002 21.75 27.6242 21.75 27.1603V26.0476H23.5766C23.8105 26.0476 24 25.8595 24 25.6276V23.3061C24 23.0741 23.8105 22.8861 23.5766 22.8861L22.855 22.8861ZM5.76405 7.8226H18.2359V11.9604H5.76405V7.8226ZM5.47404 21.7109H4.0276C3.58564 21.7109 3.22736 21.3555 3.22736 20.9172V20.8971C3.22736 20.4588 3.58564 20.1034 4.0276 20.1034H5.474C5.91595 20.1034 6.27423 20.4588 6.27423 20.8971V20.9172C6.27428 21.3555 5.916 21.7109 5.47404 21.7109ZM14.8783 21.9449H9.12164C8.65394 21.9449 8.27481 21.5688 8.27481 21.1051V15.7834C8.27481 15.3196 8.65394 14.9436 9.12164 14.9436H14.8783C15.3459 14.9436 15.725 15.3197 15.725 15.7834V21.105C15.7251 21.5688 15.3459 21.9449 14.8783 21.9449ZM19.9723 21.7109H18.5259C18.084 21.7109 17.7256 21.3555 17.7256 20.9172V20.8971C17.7256 20.4588 18.084 20.1034 18.5259 20.1034H19.9723C20.4142 20.1034 20.7725 20.4588 20.7725 20.8971V20.9172C20.7725 21.3555 20.4142 21.7109 19.9723 21.7109ZM14.7495 18.0173H9.23682C9.0053 18.0173 8.81765 17.8312 8.81765 17.6015V17.5931C8.81765 17.3634 9.0053 17.1774 9.23682 17.1774H14.7495C14.981 17.1774 15.1687 17.3634 15.1687 17.5931V17.6015C15.1687 17.8312 14.981 18.0173 14.7495 18.0173ZM14.7495 16.3375H9.23682C9.0053 16.3375 8.81765 16.1513 8.81765 15.9217V15.9133C8.81765 15.6837 9.0053 15.4976 9.23682 15.4976H14.7495C14.981 15.4976 15.1687 15.6837 15.1687 15.9133V15.9217C15.1687 16.1513 14.981 16.3375 14.7495 16.3375ZM14.7495 21.3769H9.23682C9.0053 21.3769 8.81765 21.1908 8.81765 20.9611V20.9527C8.81765 20.7231 9.0053 20.537 9.23682 20.537H14.7495C14.981 20.537 15.1687 20.7231 15.1687 20.9527V20.9611C15.1687 21.1908 14.981 21.3769 14.7495 21.3769ZM14.7495 19.6971H9.23682C9.0053 19.6971 8.81765 19.5109 8.81765 19.2813V19.2729C8.81765 19.0433 9.0053 18.8572 9.23682 18.8572H14.7495C14.981 18.8572 15.1687 19.0433 15.1687 19.2729V19.2813C15.1687 19.5109 14.981 19.6971 14.7495 19.6971Z" fill="var(--logo-background-elem)"/>
                        <circle cx="49" cy="24" r="3" stroke="var(--logo-background-elem)" stroke-width="2"/>
                        <circle cx="96" cy="24" r="3" stroke="var(--logo-background-elem)" stroke-width="2"/>
                        <circle cx="105" cy="24" r="3" stroke="var(--logo-background-elem)" stroke-width="2"/>
                    </svg>
                </div>       
                </a>
                ' . renderHeaderAuthorization() . '
            </div>
        </header>';
}

?>